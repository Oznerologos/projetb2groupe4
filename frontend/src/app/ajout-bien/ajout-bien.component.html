<!-- Page d'ajout de bien-->

<div class="container-fluid">
  <h1>Ajouter un bien!</h1>

  <!-- Formulaire d'ajout-->
  <form
    #bienForm="ngForm"
    [formGroup]="bienForm"
    (ngSubmit)="onSubmit()"
    novalidate
  >
    {{ bienForm.value | json }}
    <hr />

    <div ngModelGroup="Bien">
      <div class="mb-3">
        <label for="typeBien">Type de bien*</label>

        <div class="form-check">
          <input
            class="form-check-input"
            ngModel
            type="radio"
            name="typeBien"
            value="maison"
            formControlName="typeBien"
          />
          <label class="form-check-label">Maison</label>
        </div>

        <div class="form-check">
          <input
            class="form-check-input"
            type="radio"
            ngModel
            name="typeBien"
            value="appartement"
            formControlName="typeBien"
          />
          <label class="form-check-label">Appartement</label>
        </div>
      </div>

      <br />
      <div class="form-group">
        <label>Insérer une image </label>
        <input type="file" name=" image" ngModel formControlName="imageBien" />
        <button>Ajouter une Image</button>
      </div>

      <br />
      <div class="form-group">
        <label>Etage* </label>
        <input
          type="number"
          name="nombreEtage"
          ngModel
          formControlName="nombreEtage"
        />
      </div>

      <br />
      <div class="form-group">
        <label>Descriptif </label>
        <textarea
          rows="5"
          cols="50"
          name="description"
          ngModel
          id="description"
          formControlName="descriptionBien"
        >
        </textarea>
      </div>

      <br />

      <div class="form-group">
        <label>Prix de vente* </label>
        <input
          type="number"
          name="prixVente"
          formControlName="prixDeVente"
          ngModel
        />
      </div>

      <br />

      <div class="form-group">
        <label>Prix minimum* </label>
        <input
          type="number"
          name="prixMinimum"
          ngModel
          formControlName="prixMinDeVente"
        />
        <!-- DEBUT TEST VALIDATION-->
        <!--
        <div
          *ngIf="prixMinimum.invalid && (prixMinimum.dirty || prixMinimum.touched"
          )
          class="alert alert-danger"
        >
          <div *ngIf="prixMinimum.errors.required">
            Price is required.
          </div>
        </div>
        -->
        <!-- FIN TEST VALIDATION-->
      </div>
    </div>
    <br />

    <div ngModelGroup="Dependance">
      <div class="form-group">
        <label> Dépendance: </label>
        <select
          class="custom-select"
          formControlName="selectionDependance"
          name="nomDependance"
          ngModel
        >
          <!-- <option value="">Sélectionner ce qui convient</option> -->
          <option *ngFor="let dependance of dependances">{{
            dependance
          }}</option>
        </select>
      </div>

      <br />
      <div class="form-group">
        <label>Insérer une image </label>
        <input type="file" name="imageDependance" ngModel />
      </div>
      <br />
      <button>Ajouter une dépendance</button>
      <br />
    </div>

    <br />
    <button class="btn btn-primary" [disabled]="!bienForm.valid" type="submit">
      Ajouter le bien
    </button>

    <!--   <button class="btn btn-primary" (click)="submitted = false">Edit</button>
-->
  </form>
</div>

{{ bienForm.status | json }}
{{ bienForm.value | json }}
